"use client";

import React from "react";
import { usePathname } from "next/navigation";
import Link from "next/link";
import Image from "next/image";
// import SidebarItem from "@/components/Sidebar/SidebarItem";
// import useLocalStorage from "@/hooks/useLocalStorage";
import SidebarItem from "@/components/Sidebar/SidebarItem";
import ClickOutside from "@/components/ClickOutside";

interface SidebarProps {
  sidebarOpen: boolean;
  setSidebarOpen: (arg: boolean) => void;
}

const menuGroups = [
  {
    name: "MAIN MENU",
    menuItems: [
      {
        icon: (
          <svg
            className="text- fill-current"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M9.00009 17.2498C8.58588 17.2498 8.25009 17.5856 8.25009 17.9998C8.25009 18.414 8.58588 18.7498 9.00009 18.7498H15.0001C15.4143 18.7498 15.7501 18.414 15.7501 17.9998C15.7501 17.5856 15.4143 17.2498 15.0001 17.2498H9.00009Z"
              fill=""
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M12 1.25C11.2749 1.25 10.6134 1.44911 9.88928 1.7871C9.18832 2.11428 8.37772 2.59716 7.36183 3.20233L5.90622 4.06943C4.78711 4.73606 3.89535 5.26727 3.22015 5.77524C2.52314 6.29963 1.99999 6.8396 1.65907 7.55072C1.31799 8.26219 1.22554 9.0068 1.25519 9.87584C1.2839 10.717 1.43105 11.7397 1.61556 13.0219L1.90792 15.0537C2.14531 16.7036 2.33368 18.0128 2.61512 19.0322C2.90523 20.0829 3.31686 20.9169 4.05965 21.5565C4.80184 22.1956 5.68984 22.4814 6.77634 22.6177C7.83154 22.75 9.16281 22.75 10.8423 22.75H13.1577C14.8372 22.75 16.1685 22.75 17.2237 22.6177C18.3102 22.4814 19.1982 22.1956 19.9404 21.5565C20.6831 20.9169 21.0948 20.0829 21.3849 19.0322C21.6663 18.0129 21.8547 16.7036 22.0921 15.0537L22.3844 13.0219C22.569 11.7396 22.7161 10.717 22.7448 9.87584C22.7745 9.0068 22.682 8.26219 22.3409 7.55072C22 6.8396 21.4769 6.29963 20.7799 5.77524C20.1047 5.26727 19.2129 4.73606 18.0938 4.06943L16.6382 3.20233C15.6223 2.59716 14.8117 2.11428 14.1107 1.7871C13.3866 1.44911 12.7251 1.25 12 1.25ZM8.09558 4.51121C9.15309 3.88126 9.89923 3.43781 10.5237 3.14633C11.1328 2.86203 11.5708 2.75 12 2.75C12.4293 2.75 12.8672 2.86203 13.4763 3.14633C14.1008 3.43781 14.8469 3.88126 15.9044 4.51121L17.2893 5.33615C18.4536 6.02973 19.2752 6.52034 19.8781 6.9739C20.4665 7.41662 20.7888 7.78294 20.9883 8.19917C21.1877 8.61505 21.2706 9.09337 21.2457 9.82469C21.2201 10.5745 21.0856 11.5163 20.8936 12.8511L20.6148 14.7884C20.3683 16.5016 20.1921 17.7162 19.939 18.633C19.6916 19.5289 19.3939 20.0476 18.9616 20.4198C18.5287 20.7926 17.9676 21.0127 17.037 21.1294C16.086 21.2486 14.8488 21.25 13.1061 21.25H10.8939C9.15124 21.25 7.91405 21.2486 6.963 21.1294C6.03246 21.0127 5.47129 20.7926 5.03841 20.4198C4.60614 20.0476 4.30838 19.5289 4.06102 18.633C3.80791 17.7162 3.6317 16.5016 3.3852 14.7884L3.10643 12.851C2.91437 11.5163 2.77991 10.5745 2.75432 9.82469C2.72937 9.09337 2.81229 8.61505 3.01167 8.19917C3.21121 7.78294 3.53347 7.41662 4.12194 6.9739C4.72482 6.52034 5.54643 6.02973 6.71074 5.33615L8.09558 4.51121Z"
              fill=""
            />
          </svg>
        ),
        label: "Dashboard",
        route: "/",
      },
      {
        icon: (
          <svg
            className="text- fill-current"
            xmlns="http://www.w3.org/2000/svg"
            version="1.1"
            width="25"
            strokeWidth="2"
            height="25"
            x="0"
            y="0"
            viewBox="0 0 512 512"
          >
            <g>
              <path d="M490.691 351.144c-4.266-4.241-10.046-7.472-16.476-8.571v-9.266c0-3.376-1.158-6.465-3.039-8.98 1.881-2.493 3.039-5.56 3.039-8.909V301.61c0-3.38-1.158-6.467-3.039-8.981 1.881-2.493 3.039-5.559 3.039-8.908v-13.809c0-3.35-1.158-6.415-3.039-8.909 1.881-2.514 3.039-5.604 3.039-8.983v-13.808c0-.967-.111-1.908-.285-2.821h3.105c8.245 0 14.949-6.759 14.949-15.065v-13.689c0-8.308-6.704-15.068-14.949-15.068h-27.602c.174-.917.286-1.854.286-2.822V174.94c0-8.307-6.704-15.069-14.949-15.069h-24.421c-10.354-21.818-24.429-42.19-40.25-58.498 14.228 4.55 25.17 11.265 30.584 17.068a6.062 6.062 0 1 0 8.868-8.268c-8.935-9.583-28.516-20.448-53.234-24.547.348-19.341 4.186-44.639 12.467-59.918a6.077 6.077 0 0 0 .297-5.144 6.058 6.058 0 0 0-3.768-3.517c-45.666-14.729-95.41-14.729-141.074 0a6.06 6.06 0 0 0-3.769 3.517 6.084 6.084 0 0 0 .298 5.144c8.69 16.031 12.496 43.119 12.504 62.76-42.019 34.793-80.787 103.954-71.278 166.269 1.517 9.92-2.678 23.296-6.733 36.234-5.521 17.621-10.737 34.266-.994 43.44 3.717 3.499 9.065 5.273 16.462 5.273 11.432 0 27.76-4.239 50.515-12.896 24.635 8.021 58.248 11.726 94.602 9.233v10.971c0 8.313 6.704 15.07 14.949 15.07h91.711l-56.365 27.18c-5.821-4.534-13.014-6.866-20.327-6.892l-39.055.725c-13.216.264-24.596-5.208-32.702-15.941-10.499-14.04-25.675-24.179-42.733-28.536-24.301-6.242-49.859-.446-68.886 15.481l-22.993-.579 3.64-12.772a6.056 6.056 0 0 0-.537-4.608 6.077 6.077 0 0 0-3.637-2.884L62.55 311.504a6.115 6.115 0 0 0-4.61.533 6.087 6.087 0 0 0-2.881 3.641L12.436 465.641a6.06 6.06 0 0 0 4.182 7.49l28.178 7.986c.051.015.097.038.148.057.04.012.079.003.118.015l28.374 8.039c2.328.65 4.724.977 7.124.977 11.83 0 22.29-7.913 25.427-19.205l1.131-3.972 52.015-1.093 151.31 38.335c4.51 1.156 8.98 1.73 13.368 1.73 11.004 0 21.518-3.603 30.945-10.698l138.434-104.94c.53-.403.992-.892 1.368-1.446 9.445-14.052 4.865-29.096-3.867-37.772zm-159.894-32.907a2.787 2.787 0 0 1-2.821-2.82V301.61c0-1.594 1.291-2.941 2.821-2.941h128.352c1.568 0 2.939 1.372 2.939 2.941v13.807c0 1.529-1.348 2.82-2.939 2.82zm-28.541-157.706c-6.271 1.823-10.899 7.558-10.899 14.408v13.807c0 8.243 6.758 14.95 15.068 14.95h27.491c-.19.954-.299 1.935-.299 2.94v13.689c0 1.005.108 1.986.299 2.937h-3.119c-.98 0-1.937.108-2.866.291-10.329-9.268-22.805-10.975-33.952-12.418-13.584-1.758-24.309-3.148-30.877-16.335-2.88-5.76-3.127-12.025-.695-17.647 3.049-7.039 10.171-12.541 20.029-15.485 6.467-1.897 13.342-2.164 19.82-1.137zm156.892 106.56c1.592 0 2.939 1.291 2.939 2.821v13.809c0 1.53-1.348 2.821-2.939 2.821H330.797a2.788 2.788 0 0 1-2.821-2.821v-13.809a2.787 2.787 0 0 1 2.821-2.821zm2.94-28.879v13.808c0 1.566-1.371 2.944-2.939 2.944H330.797c-1.53 0-2.821-1.348-2.821-2.944v-13.808a2.788 2.788 0 0 1 2.821-2.821h128.352c1.591 0 2.939 1.291 2.939 2.821zm17.77-31.575v13.689c0 1.538-1.345 2.937-2.822 2.937h-128.35c-1.568 0-2.941-1.374-2.941-2.937v-13.689c0-1.566 1.373-2.94 2.941-2.94h128.35c1.478-.001 2.822 1.401 2.822 2.94zm-42.264-31.698v13.807a2.79 2.79 0 0 1-2.822 2.822H306.425c-1.592 0-2.94-1.292-2.94-2.822v-13.807c0-1.566 1.373-2.94 2.94-2.94h128.347c1.531.001 2.822 1.347 2.822 2.94zM354.952 26.563c-7.954 18.884-10.481 43.625-10.758 59.34-32.325 9.131-66.402 9.129-98.83-.001-.277-15.72-2.809-40.46-10.764-59.339 39.148-11.271 81.208-11.271 120.352 0zM201.755 304.075a6.05 6.05 0 0 0-8.486 1.229 6.06 6.06 0 0 0 1.229 8.483c2.931 2.192 6.278 4.244 9.999 6.155-31.501 10.688-39.772 7.651-41.916 5.638-4.212-3.969.482-18.944 4.254-30.982 4.468-14.256 9.088-28.995 7.148-41.688-8.552-56.039 27.367-122.508 67.493-155.464 17.484 4.98 35.42 7.491 53.346 7.491 16.102 0 32.194-2.012 47.933-6.03-.099 10.612 2.154 25.507 10.605 35.815a6.06 6.06 0 0 0 8.533.844 6.063 6.063 0 0 0 .848-8.533c-5.055-6.164-7.167-15.583-7.705-23.516 16.178 14.987 30.856 34.783 41.825 56.354h-67.583c-7.574-6.625-17.654-10.768-28.438-11.833v-8.876a6.064 6.064 0 1 0-12.127 0v9.041c-3.264.362-6.523.901-9.716 1.839-13.381 3.993-23.226 11.912-27.717 22.296-3.827 8.836-3.471 19.001.972 27.879 9.443 18.968 25.768 21.083 40.167 22.949 9.308 1.204 18.163 2.416 25.405 7.764-1.219 2.162-1.977 4.625-1.977 7.284v13.808c0 3.379 1.15 6.469 3.016 8.983-1.865 2.494-3.016 5.56-3.016 8.909v2.257c-2.888 1.724-6.25 3.188-10.172 4.411-16.925 4.972-36.039.119-45.438-11.556a6.077 6.077 0 0 0-8.528-.919 6.073 6.073 0 0 0-.918 8.53c8.669 10.757 22.803 17.066 37.921 17.862v8.588c0 3.351 2.714 6.064 6.064 6.064s6.063-2.714 6.063-6.064v-9.082c2.8-.41 5.594-1.01 8.351-1.821 2.462-.765 4.704-1.641 6.847-2.572a14.813 14.813 0 0 0 2.825 7.019c-1.87 2.515-3.016 5.602-3.016 8.981v13.807c0 3.061.932 5.901 2.515 8.277-8.013.638-15.945 1.025-23.585 1.025-40.332-.001-75.976-7.91-93.021-20.646zm129.042 45.86c-1.53 0-2.821-1.348-2.821-2.942v-13.686c0-1.592 1.291-2.941 2.821-2.941h128.352c1.568 0 2.939 1.373 2.939 2.941l-.008 9.886c-2.945.814-5.91 2.109-8.835 4.049l-5.583 2.693zM80.559 478.076c-1.304 0-2.606-.18-3.848-.521l-22.609-6.41 17.304-60.778a6.063 6.063 0 0 0-4.171-7.49 6.06 6.06 0 0 0-7.494 4.172l-17.306 60.793-16.677-4.723 39.307-138.292 64.694 18.416-35.448 124.473c-1.694 6.097-7.35 10.36-13.752 10.36zm404.445-96.726-137.56 104.277c-10.27 7.719-21.714 10.04-34.008 6.892l-152.123-38.541c-.526-.139-1.062-.18-1.616-.186l-49.104 1.026 25.424-89.276 28.456.719c1.536.157 3.04-.509 4.189-1.533 16.184-14.437 38.486-19.814 59.656-14.383 14.385 3.676 27.184 12.218 36.043 24.072 10.424 13.805 25.518 21.092 42.654 20.781l39.01-.721c.1-.003.203-.003.301-.003 5.342 0 10.599 2.259 14.466 6.222 3.524 3.615 5.515 8.416 5.606 13.568.131 5.307-1.846 10.363-5.574 14.254-3.738 3.899-8.726 6.095-14.055 6.182l-108.181 2.04a6.064 6.064 0 0 0 .112 12.127h.12l108.167-2.039c8.571-.144 16.598-3.67 22.59-9.917 5.982-6.239 9.158-14.393 8.942-22.907a31.944 31.944 0 0 0-4.178-15.252l76.833-37.052a6.163 6.163 0 0 0 1.404-.675l6.318-3.049c.268-.13.529-.282.777-.453 2.779-1.889 5.541-2.766 8.183-3.042.058 0 .115.016.174.016.496 0 .973-.074 1.43-.181 5.142-.021 9.68 2.443 12.684 5.43 4.672 4.641 8.109 13.001 2.86 21.604z"></path>
            </g>
          </svg>
        ),
        label: "Earning",
        route: "#",
        children: [
          { label: "Subscribe", route: "/subscribe" },
          { label: "Watch Hours", route: "/watch-hours" },
          { label: "Reffrel", route: "/reffrel" },
        ],
      },
      {
        icon: (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            x="0px"
            y="0px"
            width="25"
            height="25"
            viewBox="0 0 50 50"
            className="text- fill-current"
          >
            <path d="M 24.402344 9 C 17.800781 9 11.601563 9.5 8.300781 10.199219 C 6.101563 10.699219 4.199219 12.199219 3.800781 14.5 C 3.402344 16.898438 3 20.5 3 25 C 3 29.5 3.398438 33 3.898438 35.5 C 4.300781 37.699219 6.199219 39.300781 8.398438 39.800781 C 11.902344 40.5 17.898438 41 24.5 41 C 31.101563 41 37.097656 40.5 40.597656 39.800781 C 42.800781 39.300781 44.699219 37.800781 45.097656 35.5 C 45.5 33 46 29.402344 46.097656 24.902344 C 46.097656 20.402344 45.597656 16.800781 45.097656 14.300781 C 44.699219 12.101563 42.800781 10.5 40.597656 10 C 37.097656 9.5 31 9 24.402344 9 Z M 24.402344 11 C 31.601563 11 37.398438 11.597656 40.199219 12.097656 C 41.699219 12.5 42.898438 13.5 43.097656 14.800781 C 43.699219 18 44.097656 21.402344 44.097656 24.902344 C 44 29.199219 43.5 32.699219 43.097656 35.199219 C 42.800781 37.097656 40.800781 37.699219 40.199219 37.902344 C 36.597656 38.601563 30.597656 39.097656 24.597656 39.097656 C 18.597656 39.097656 12.5 38.699219 9 37.902344 C 7.5 37.5 6.300781 36.5 6.101563 35.199219 C 5.300781 32.398438 5 28.699219 5 25 C 5 20.398438 5.402344 17 5.800781 14.902344 C 6.101563 13 8.199219 12.398438 8.699219 12.199219 C 12 11.5 18.101563 11 24.402344 11 Z M 19 17 L 19 33 L 33 25 Z M 21 20.402344 L 29 25 L 21 29.597656 Z"></path>
          </svg>
        ),
        label: "Add News",
        route: "/admin/news",
      },

      {
        icon: (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            version="1.1"
            width="25"
            height="25"
            x="0"
            y="0"
            viewBox="0 0 512 512"
            className="text- fill-current"
          >
            <g>
              <path
                d="M498.292 132.968a27.137 27.137 0 0 0-27.418 0L392.8 178.045v-17.409a68.529 68.529 0 0 0-68.451-68.451H68.45A68.528 68.528 0 0 0 0 160.636v190.728a68.528 68.528 0 0 0 68.45 68.451h255.894a68.529 68.529 0 0 0 68.456-68.451v-17.41l78.079 45.079A27.418 27.418 0 0 0 512 355.289V156.711a27.137 27.137 0 0 0-13.708-23.743zm-137.5 218.4a36.492 36.492 0 0 1-36.451 36.451H68.45A36.492 36.492 0 0 1 32 351.364V160.636a36.492 36.492 0 0 1 36.45-36.451h255.894a36.492 36.492 0 0 1 36.456 36.451zM480 347.352 392.8 297v-82l87.2-50.352zM279.6 256a16 16 0 0 1-16 16h-51.2v51.2a16 16 0 0 1-32 0V272h-51.2a16 16 0 0 1 0-32h51.2v-51.2a16 16 0 0 1 32 0V240h51.2a16 16 0 0 1 16 16z"
                opacity="1"
              ></path>
            </g>
          </svg>
        ),
        label: "Add Videos",
        route: "/add-videos",
      },
      {
        icon: (
          <svg
            className="fill-current"
            width="24"
            height="24"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M9 6.1875C7.4467 6.1875 6.1875 7.4467 6.1875 9C6.1875 10.5533 7.4467 11.8125 9 11.8125C10.5533 11.8125 11.8125 10.5533 11.8125 9C11.8125 7.4467 10.5533 6.1875 9 6.1875ZM7.3125 9C7.3125 8.06802 8.06802 7.3125 9 7.3125C9.93198 7.3125 10.6875 8.06802 10.6875 9C10.6875 9.93198 9.93198 10.6875 9 10.6875C8.06802 10.6875 7.3125 9.93198 7.3125 9Z"
              fill=""
            ></path>
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M8.98106 0.9375C8.64771 0.937495 8.36943 0.93749 8.14097 0.953078C7.90315 0.969304 7.6785 1.00429 7.46071 1.0945C6.95534 1.30383 6.55382 1.70535 6.34449 2.21072C6.23551 2.47381 6.206 2.75109 6.19473 3.05247C6.18567 3.29474 6.0634 3.49688 5.88296 3.60106C5.70253 3.70523 5.46634 3.71005 5.252 3.59676C4.98535 3.45583 4.73046 3.34275 4.44812 3.30557C3.9058 3.23418 3.35732 3.38114 2.92334 3.71414C2.73632 3.85765 2.5937 4.0347 2.46074 4.23255C2.33301 4.42261 2.19387 4.66361 2.02721 4.9523L2.00826 4.98511C1.84159 5.27379 1.70245 5.51478 1.60172 5.72042C1.49686 5.9345 1.41483 6.14654 1.38406 6.38026C1.31266 6.92259 1.45963 7.47107 1.79262 7.90504C1.96596 8.13094 2.1913 8.29512 2.44663 8.45555C2.65196 8.58457 2.76591 8.79158 2.7659 8.99999C2.76589 9.20837 2.65194 9.41535 2.44663 9.54435C2.19127 9.7048 1.9659 9.86899 1.79255 10.0949C1.45955 10.5289 1.31259 11.0774 1.38399 11.6197C1.41476 11.8534 1.49678 12.0654 1.60164 12.2795C1.70237 12.4852 1.84151 12.7262 2.00818 13.0148L2.02713 13.0476C2.1938 13.3363 2.33294 13.5773 2.46067 13.7674C2.59363 13.9652 2.73625 14.1423 2.92327 14.2858C3.35724 14.6188 3.90572 14.7658 4.44805 14.6944C4.73038 14.6572 4.98525 14.5441 5.25188 14.4032C5.46625 14.2899 5.70247 14.2947 5.88293 14.3989C6.06339 14.5031 6.18567 14.7053 6.19473 14.9476C6.206 15.2489 6.23552 15.5262 6.34449 15.7893C6.55382 16.2947 6.95534 16.6962 7.46071 16.9055C7.6785 16.9957 7.90315 17.0307 8.14097 17.0469C8.36943 17.0625 8.64771 17.0625 8.98105 17.0625H9.01894C9.35228 17.0625 9.63056 17.0625 9.85902 17.0469C10.0968 17.0307 10.3215 16.9957 10.5393 16.9055C11.0446 16.6962 11.4462 16.2947 11.6555 15.7893C11.7645 15.5262 11.794 15.2489 11.8053 14.9475C11.8143 14.7052 11.9366 14.5031 12.117 14.3989C12.2975 14.2947 12.5337 14.2899 12.7481 14.4032C13.0147 14.5441 13.2695 14.6572 13.5519 14.6943C14.0942 14.7657 14.6427 14.6188 15.0766 14.2858C15.2637 14.1423 15.4063 13.9652 15.5392 13.7673C15.667 13.5773 15.8061 13.3363 15.9728 13.0476L15.9917 13.0148C16.1584 12.7262 16.2975 12.4851 16.3983 12.2795C16.5031 12.0654 16.5852 11.8534 16.6159 11.6196C16.6873 11.0773 16.5404 10.5288 16.2074 10.0949C16.034 9.86895 15.8087 9.70476 15.5533 9.54431C15.348 9.41532 15.2341 9.20834 15.2341 8.99996C15.2341 8.79161 15.348 8.58466 15.5533 8.45568C15.8087 8.29522 16.0341 8.13102 16.2074 7.90509C16.5404 7.47112 16.6874 6.92264 16.616 6.38031C16.5852 6.14659 16.5032 5.93455 16.3983 5.72048C16.2976 5.51484 16.1585 5.27387 15.9918 4.98522L15.9729 4.95238C15.8062 4.66369 15.6671 4.42266 15.5393 4.2326C15.4064 4.03475 15.2637 3.8577 15.0767 3.71419C14.6427 3.38119 14.0943 3.23423 13.5519 3.30563C13.2696 3.3428 13.0147 3.45586 12.7481 3.59679C12.5337 3.71009 12.2975 3.70527 12.1171 3.60108C11.9366 3.49689 11.8143 3.29473 11.8053 3.05243C11.794 2.75106 11.7645 2.4738 11.6555 2.21072C11.4462 1.70535 11.0446 1.30383 10.5393 1.0945C10.3215 1.00429 10.0968 0.969304 9.85902 0.953078C9.63056 0.93749 9.35228 0.937495 9.01893 0.9375H8.98106ZM7.89123 2.13386C7.94909 2.10989 8.037 2.08779 8.21755 2.07547C8.40315 2.06281 8.64284 2.0625 8.99999 2.0625C9.35715 2.0625 9.59684 2.06281 9.78244 2.07547C9.96298 2.08779 10.0509 2.10989 10.1088 2.13386C10.3385 2.22901 10.521 2.41152 10.6161 2.64123C10.6461 2.71369 10.671 2.82665 10.681 3.09448C10.7033 3.68876 11.01 4.26097 11.5546 4.57536C12.0991 4.88976 12.748 4.8693 13.2738 4.59141C13.5108 4.46617 13.621 4.43124 13.6988 4.421C13.9453 4.38855 14.1946 4.45535 14.3919 4.60671C14.4415 4.64484 14.5047 4.70992 14.6056 4.86012C14.7094 5.01452 14.8295 5.22195 15.008 5.53125C15.1866 5.84055 15.3062 6.04829 15.388 6.21535C15.4676 6.37787 15.4925 6.46505 15.5006 6.52715C15.5331 6.77366 15.4663 7.02297 15.3149 7.22023C15.2672 7.28246 15.1818 7.3605 14.9548 7.5031C14.4513 7.81947 14.1091 8.37116 14.1091 8.9999C14.1091 9.62871 14.4512 10.1805 14.9548 10.4969C15.1817 10.6395 15.2671 10.7175 15.3148 10.7797C15.4662 10.977 15.533 11.2263 15.5006 11.4728C15.4924 11.5349 15.4676 11.6221 15.388 11.7846C15.3061 11.9517 15.1865 12.1594 15.008 12.4687C14.8294 12.778 14.7093 12.9854 14.6055 13.1398C14.5046 13.29 14.4415 13.3551 14.3918 13.3932C14.1945 13.5446 13.9452 13.6114 13.6987 13.5789C13.6209 13.5687 13.5107 13.5338 13.2738 13.4086C12.748 13.1307 12.099 13.1102 11.5545 13.4247C11.01 13.7391 10.7033 14.3112 10.681 14.9055C10.671 15.1733 10.6461 15.2863 10.6161 15.3588C10.521 15.5885 10.3385 15.771 10.1088 15.8661C10.0509 15.8901 9.96298 15.9122 9.78244 15.9245C9.59684 15.9372 9.35715 15.9375 8.99999 15.9375C8.64284 15.9375 8.40315 15.9372 8.21755 15.9245C8.037 15.9122 7.94909 15.8901 7.89123 15.8661C7.66151 15.771 7.47901 15.5885 7.38386 15.3588C7.35384 15.2863 7.32896 15.1733 7.31895 14.9055C7.29672 14.3112 6.98998 13.739 6.44543 13.4246C5.90088 13.1102 5.25196 13.1307 4.72619 13.4086C4.48924 13.5338 4.37897 13.5688 4.30121 13.579C4.0547 13.6115 3.80539 13.5447 3.60813 13.3933C3.55844 13.3552 3.49534 13.2901 3.39439 13.1399C3.29063 12.9855 3.17052 12.7781 2.99194 12.4688C2.81337 12.1594 2.69378 11.9517 2.61195 11.7847C2.53235 11.6221 2.50754 11.5349 2.49936 11.4728C2.46691 11.2263 2.53371 10.977 2.68507 10.7798C2.73282 10.7175 2.81821 10.6395 3.04515 10.4969C3.54869 10.1805 3.89086 9.62882 3.8909 9.00005C3.89093 8.3712 3.54874 7.8194 3.04516 7.50299C2.81826 7.36042 2.73289 7.2824 2.68515 7.22018C2.53378 7.02292 2.46698 6.77361 2.49943 6.5271C2.50761 6.465 2.53242 6.37782 2.61202 6.2153C2.69386 6.04824 2.81344 5.8405 2.99202 5.5312C3.17059 5.2219 3.2907 5.01447 3.39447 4.86007C3.49541 4.70987 3.55851 4.64479 3.6082 4.60666C3.80546 4.4553 4.05477 4.3885 4.30128 4.42095C4.37905 4.43119 4.48932 4.46613 4.7263 4.59138C5.25205 4.86926 5.90093 4.88972 6.44546 4.57534C6.98999 4.26096 7.29672 3.68878 7.31894 3.09451C7.32896 2.82666 7.35384 2.7137 7.38386 2.64124C7.47901 2.41152 7.66151 2.22901 7.89123 2.13386Z"
            ></path>
          </svg>
        ),
        label: "Setting",
        route: "/setting",
      },
      {
        icon: (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className="fill-current"
            version="1.1"
            width="25"
            height="25"
            x="0"
            y="0"
            viewBox="0 0 24 24"
          >
            <g>
              <path
                fillRule="evenodd"
                d="M5.636 5.636C8.582 2.691 13.059 2.215 16.5 4.204a1 1 0 0 1-1 1.731 7 7 0 1 0 0 12.13 1 1 0 0 1 1 1.731c-3.441 1.99-7.918 1.514-10.864-1.432a9 9 0 0 1 0-12.728zm12.657 2.657a1 1 0 0 1 1.414 0l1.891 1.891c.179.179.353.352.488.512.148.175.308.396.402.686a2 2 0 0 1 0 1.236 2.02 2.02 0 0 1-.402.687 9.18 9.18 0 0 1-.488.511l-1.89 1.891a1 1 0 0 1-1.415-1.414L19.586 13H12a1 1 0 1 1 0-2h7.586l-1.293-1.293a1 1 0 0 1 0-1.414z"
                clipRule="evenodd"
              ></path>
            </g>
          </svg>
        ),
        label: "Log Out",
        route: "/log-out",
      },
    ],
  },
];

const Sidebar = ({ sidebarOpen, setSidebarOpen }: SidebarProps) => {
  const pathname = usePathname();

  // const [pageName, setPageName] = useLocalStorage("selectedMenu", "dashboard");

  return (
    <ClickOutside onClick={() => setSidebarOpen(false)}>
      <aside
        className={`absolute left-0 top-0 z-9999 flex h-screen w-72.5 flex-col overflow-y-hidden border-r border-stroke bg-white dark:border-stroke-dark dark:bg-gray-dark lg:static lg:translate-x-0 ${
          sidebarOpen
            ? "translate-x-0 duration-300 ease-linear"
            : "-translate-x-full"
        }`}
      >
        {/* <!-- SIDEBAR HEADER --> */}
        <div className="flex items-center justify-center gap-2 px-6 py-5.5 lg:py-6.5 xl:py-10">
          <Link href="/">
            <Image
              width={60}
              height={32}
              src={"/images/logopng.png"}
              alt="Logo"
              priority
              className="dark:hidden"
              style={{ width: "auto", height: "auto" }}
            />
            <Image
              width={60}
              height={32}
              src={"/images/logopng.png"}
              alt="Logo"
              priority
              className="hidden dark:block"
              style={{ width: "auto", height: "auto" }}
            />
          </Link>
            
          <button
            onClick={() => setSidebarOpen(!sidebarOpen)}
            className="block lg:hidden"
          >
            <svg
              className="fill-current"
              width="20"
              height="18"
              viewBox="0 0 20 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M19 8.175H2.98748L9.36248 1.6875C9.69998 1.35 9.69998 0.825 9.36248 0.4875C9.02498 0.15 8.49998 0.15 8.16248 0.4875L0.399976 8.3625C0.0624756 8.7 0.0624756 9.225 0.399976 9.5625L8.16248 17.4375C8.31248 17.5875 8.53748 17.7 8.76248 17.7C8.98748 17.7 9.17498 17.625 9.36248 17.475C9.69998 17.1375 9.69998 16.6125 9.36248 16.275L3.02498 9.8625H19C19.45 9.8625 19.825 9.4875 19.825 9.0375C19.825 8.55 19.45 8.175 19 8.175Z"
                fill=""
              />
            </svg>
          </button>
        </div>
        {/* <!-- SIDEBAR HEADER --> */}

        <div className="no-scrollbar flex flex-col overflow-y-auto duration-300 ease-linear">
          {/* <!-- Sidebar Menu --> */}
          <nav className="mt-1 px-4 lg:px-6">
            {menuGroups.map((group, groupIndex) => (
              <div key={groupIndex}>
                <h3 className="mb-5 text-sm font-medium text-dark-4 dark:text-dark-6">
                  {group.name}
                </h3>

                <ul className="mb-6 flex flex-col gap-2">
                  {group.menuItems.map((menuItem, menuIndex) => (
                    <SidebarItem
                      key={menuIndex}
                      item={menuItem}
                      // pageName={pageName}
                      // setPageName={setPageName}
                    />
                  ))}
                </ul>
              </div>
            ))}
          </nav>
          {/* <!-- Sidebar Menu --> */}
        </div>
      </aside>
    </ClickOutside>
  );
};

export default Sidebar;
